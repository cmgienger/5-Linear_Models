---
title: "Lab Exam 1"
output: html_document
---

```{r setup, warning = FALSE, message = FALSE}
library(readr)
library(dplyr)
library(ggplot2)
```

## Questions {.tabset}

### As we have done before:

1.  Make a new project folder (directory) containing a .Rproj file. Use your last name as the first part of the filename (e.g. "Gienger_labexam1").

2.  Open a blank script file (.R) and save it in your project folder

3.  Copy any datafiles you need for answering questions into the project folder.

4.  Load necessary libraries

5.  Insert commands to create each plot (use default color schemes for now)

6.  Make each answer an object (like we did in the previous practices, "quest1 <- code...code...code")

7.  Save each figure as a .png file.

8.  Submit you zipped project file to the Assignments dropbox in D2L.

***

```{r import data, include=FALSE}
bird_counts <- read.csv("bird_counts.csv")
diseases <- readr::read_csv("diseases.csv")
```

### Quest1
1. Using the `msleep` dataset that is built into ggplot (don't have to import anything), recreate and save the following plot:

```{r quest 1, echo=FALSE}
data1<- msleep %>%
  filter(vore != "NA")

p1<-ggplot(data = data1, mapping = aes(x = vore, y = sleep_total, color=vore)) +
  geom_boxplot() +
  annotate("text", x=3, y=17, label = "Insectivores sleep a lot.") +
  xlab("Type of Animal") +
  ylab("Total Nightly Sleep (h)")
p1
```

***

### Quest2
2. Import the `diseases.csv` dataset. Provide the necessary code to make the following table describing
the history of occurrence of measles and mumps in Kentucky and Tennessee. 
Don't forget to make it an object so you can use it later (will need in Quest 3). 

```{r quest 2 data reduction, echo=FALSE, message=FALSE, warning=FALSE}
#filter data to what is needed
data2 <- diseases %>%
  filter(state == "Tennessee" | state == "Kentucky") %>%
  filter(disease == "Measles" | disease == "Mumps") %>%
  select(disease, state, year, count)
data2
```
***

### Quest3
3. From the dataframe you created in Question 2, make and save the following figure.
```{r quest 3 data visualization, echo=FALSE, message=FALSE, warning=FALSE}
p2 <- ggplot(data2, aes(x=year, y=count, color=state, shape = disease)) +
  geom_point(size=3) +
  xlab("Year") +
  ylab("Number of Cases") +
  annotate("text", x = 1985, y = 25000, label = "State History of Measles and Mumps")

p2
```

***

### Quest4
4. Import the `bird_counts.csv` dataset. Provide the necessary code to make the following figure describing
the increase in American Crow populations. 
Don't forget to make it an object (and save the plot) so you can use it later.

```{r quest 4, echo=FALSE, message=FALSE, warning=FALSE}
data4 <- bird_counts %>%
  filter(species == "American Crow")

p4 <- ggplot(data4, aes(x=year, y=how_many_counted)) +
  geom_point(size=3) +
  xlab("Year") +
  ylab("Number of Crows") + 
  annotate("text", x = 1950, y = 6000, label = "American Crow populations have fluctuated over time")

p4
```

### Before Submitting

1.  Does your project folder have your name as part of the title?

2. Is your project self contained? Test by closing the project, re-opening the project and running your entire script file as one block of code. Does it get all the way through without throwing errors? It should.

